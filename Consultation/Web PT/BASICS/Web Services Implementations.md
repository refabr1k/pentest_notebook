# Web Services Implementations

- XML-RPC: remote procedure call (RPC) protocol that uses XML (usually over HTTP) to invoke functionalities. 
- JSON-RPC: remote procedure call protocol that uses JSON 
- SOAP: messaging protocol that uses XML and provides more functionalities of XML-RPC 
- RESTful: set or principles to build a web service.


## XML-RPC
XML-RPC, created in 1998, was the first web service protocol. It works by sending HTTP requests that call a single method implemented on the remote system.

As you can imagine, the body of the request is in XML; thus, it can be used to send complex record and list structures.
```xml
POST /xml_rpc/web_service.php HTTP/1.1
User-Agent: Zend_XmlRpc_Client
Host: wp.site
Content-Type: text/xml
Content-length: 179
…
<?xml version="1.0"?>
<methodCall>
<methodName>My.Method</methodName>
<params>
<param>
<value>www.google.com</value>
</param>
</params>
</methodCall>
```


## JSON-RPC
JSON-RPC is very similar to XML-RPC. However, it provides more human-readable messages and takes less space to send the same message XML-RPC sends. The message sent to invoke a method is a request with a single object serialized using JSON. It has three properties: 
- method: name of the method to invoke 
- params: an array of objects to pass as arguments 
- id: request ID used to match the responses/requests

```json
POST /json_rpc/web_service.php HTTP/1.1
User-Agent: my_user_agent
Host: wp.site
Content-Type: application/json-rpc
Content-length: 57
…
{"method": "MyMethod", "params": ["www.google.com"], "id": 1}
```

## SOAP
SOAP (Simple Object Access Protocol) is somehow the successor of XML-RPC since it provides more functionalities such as encryption, digital signature, and routing of SOAP messages. 

Note that SOAP web services may also provide a Web Services Definition Language (WSDL) declaration that specifies how they may be used.

```xml
POST /soap_rpc/web_service.php HTTP/1.1
User-Agent: PHP-SOAP
Host: wp.site
Content-Type: text/soap+xml
Content-length: 179
…
<?xml version="1.0"?>
<soap:Envelope
xmlns:soap="http://www.w3.org/2003/05/soap-envelope"
soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
<soap:Body xmlns:m="http://ws.site/soap_ws/ws">
<m:MyMethod>
<m:Host>www.google.com</m:Host>
</m:MyMethod>
</soap:Body>
</soap:Envelope>

```

## RESTful
As we already said, REST (Representational State Transfer) is not a protocol, but rather a set of principle to build web services that focus on system's resources. 

REST web services generally use JSON or XML, but any other message transport format (such as plain-text) is possible.

RESTful APIs are generally based on HTTP verbs to determine the action: 

| HTTP verb | Action |
| -- | -- |
| GET |Retrieve a resource on the server, list a collection of records <br /> • http://ws.site/book (e.g. List all books available) <br />• http://ws.site/book/1 (e.g. View a specific book) | 
| PUT  | Change the state of a resource, replace or create it if it does not exist <br />• http://ws.site/book/1 (e.g. Replace a book) |
| POST | Create a new resource or record <br />• http://ws.site/book (e.g. Create a specific book)  |
| DELETE | Delete a resource or record <br />• http://ws.site/book/1 (e.g. Delete a book) |