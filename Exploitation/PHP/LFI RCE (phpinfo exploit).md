### PHPINFO LFI RCE

You have LFI and can view phpinfo.php. Upload file is turned on.

![[Pasted image 20210629230810.png]]

1. Download lfi exploit file
```bash
wget https://github.com/swisskyrepo/PayloadsAllTheThings/raw/master/File%20Inclusion/phpinfolfi.py
```

2. Modify payload to include pentest monkey's reverse shell between start and end

![[Pasted image 20210629230918.png]]

If script doesnt work check the comparison operator greater than

At line 203
![[Pasted image 20210629230945.png]]

At line 262
![[Pasted image 20210629231005.png]]

3. Update LFI script url \(apply `%00` null byte terminator if needed\) - note the double percent variable is `%%00`
![[Pasted image 20210629231031.png]]


4. Start nc listener to catch reverse shell and run python script. 

`python phpinfolfi.py 10.10.10.84 80 100`

![[Pasted image 20210629231106.png]]