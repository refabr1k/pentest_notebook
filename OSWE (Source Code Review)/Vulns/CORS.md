# CORS

- http request header set `Origin: arbitrary.com`
- observe response for
```
Access-Control-Allow-Origin: arbitrary.com
Access-Control-Allow-Credentials: true
```


**cookies**
none - (CSRF vulnerable) browser can send cookies in all context eg. iamges loads, navigation etc
lax - some context
samesite - cookies can only be sent to same site, origin


**Fetch cfg.js**

```
fetch("http://concord:8001/cfg.js")
    .then(function (response) {
        return response.text();
    })
    .then(function (text) {
        console.log(text);
    })
```

**Fetch example.com**

```
fetch("http://example.com")
   .then(function (response) {
       return response.text();
   })
   .then(function (text) {
       console.log(text);
   })
```

**Fetch example.com - POST - Standard**

```
fetch("http://example.com",
   {
       method: 'post',
       headers: {
           "Content-type": "application/x-www-form-urlencoded;"
       }
   })
```

**Fetch example.com - POST - JSON**

```
fetch("http://example.com",
   {
       method: 'post',
       headers: {
           "Content-type": "application/json;"
       }
   })
```

**Fetch CORS-test - POST - JSON**

```
fetch("http://cors-test.appspot.com/test",
   {
       method: 'post',
       headers: {
           "Content-type": "application/json;"
       }
   })
```