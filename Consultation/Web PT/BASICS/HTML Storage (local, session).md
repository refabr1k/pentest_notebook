# HTML Storage

## Cookie vs localStorage

| | Cookies | localStorage |
| -- | -- | -- |
| **size** | limited to 4KB | ranges from 5MB to 10MB (depending on browser) |
| **interface** | cookies are accessed by client/server and transferred over HTTP connections | Known only to the browser | 
| **data model** | represents complex structure using different fields | provides simpler interface by using associative array data model |


HTML5 has 2 different storage models:

1. local storage - persistent JavaScript object used as local repository
2. session storage - less persistent than local


# Local Storage
HTML pages loaded by browser  and sharing the same origin will use the same **local storage** object. eg. if page1.html updates local storage, index.html from same origin will be able to read the modified storage object.

- Local storage is persistent
- Will be deleted when (1) web application deletes storage through `localStorage` API call (2) user deletes using browser cleaning feature eg. clear recent history

# Session Storage
Session storage is bound to the browser window when a website is open. Eg. if a browser has 10 tabs pointing to the same URL `http://domain1.com/index.html` each of them will have its own `sessionStorage` object, each one distinct from the others.

- Session storage is less persistent than local storage
- Will be deleted when (1) web application deletes through `sessionStorage` API calls (2) user deletes using browser cleaning feature (3) user closes the browser window

*Note: When user refreshes the browser page, sessionStorage object is kept*

## API calls

```
// or sessionStorage
localStorage.setItem('username','tonystark');
localStorage.getItem('tonystark');
localStorage.removeItem('tonystark');
localStorage.clear();

```

Storage objects (both `localStorage` and `sessionStorage` are managed via JavaScript - they can be stolen through XSS attacks)

